# VFS

VFS 即文件系统，是操作系统的子系统，用于操作系统明确存储设备或分区上的的文件的方法和数据结构。

文件系统由三部分组成：**文件系统接口**， **对象及属性**， **对对象操作和管理的软件结合**



# DBMS

## 数据库定义

数据库是按照**数据结构来组织、存储和管理数据的**建立在计算机存储设备上的仓库。用户可对数据库中的数据进行增删改查等操作。

数据库中的数据值的是以一定的数据模型组织、描述和存储在一起，有<span style="color:red">**尽可能小的冗余度、较高的数据独立性和易扩展性的特点。**</span>

数据库特点：尽可能不重复，以最优方式为某个特定组织的多种应用服务，其**数据结构独立于使用它的应用程序**，对数据的增、删、改、查由统一软件进行管理和控制。

**从发展的历史看，数据库是数据管理的高级阶段，它是由文件管理系统发展起来的。**





# DBMS VS.VFS

- 数据之间的数据结构。**文件系统把数据组织成相互独立的数据文件，实现了<span style="color:red">记录内的结构性，但整体无结构</span>；而数据库系统实现整体数据的结构化，也是数据库系统与文件系统的本质区别**

- 数据和程序的独立性。**文件系统中的文件是为某一特定应用服务的，当要修改数据的逻辑结构时，必须修改应用程序，修改文件结构的定义，数据和程序之间缺乏独立性；数据库系统中，通过DBMS的两级映象实现了数据的物理独立性和逻辑独立性，把数据的定义从程序中分离出去，减少了应用程序的维护和修改**
- **数据库系统的共享度高。系统现有用户和程序可以共享数据库中的数据；当系统扩充时还可以开发出新的用户和程序来共享原有数据库资源；多用户或或程序可以在同一时刻共享同一数据**
- **在文件系统中，数据冗余度大，浪费存储空间，容易造成数据的不一致；数据库系统中，数据是面向整个系统，数据可以被多个用户、多个应用共享使用，减少了数据冗余。**
- VFS基于操作系统，是操作系统的子系统，由操作系统管理；数据库由数据库管理系统这一应用程序统一管理。



# 关系型数据库 VS. 非关系型数据库

## 关系型数据库

- 关系型数据库是依据关系模型来创建的数据库。
  - 所谓关系模型就是“一对一、一对多、多对多”等关系模型，关系模型就是指二维表格模型,因而一个关系型数据库就是由二维表及其之间的联系组成的一个数据组织。
- 关系模型包括数据结构（数据存储的问题，二维表）、操作指令集合（SQL语句）、完整性约束(表内数据约束、表与表之间的约束)。



### 关系型数据库特点

- 数据一般以表格的形式出现
- 每行为一组关系数据
- 每列为记录名称所对应的数据
- 许多行列组成一张表单，若干个表单组成一个数据库

### 关系型数据库的结构

- 关系：可以理解为一张二维表，每一个关系都有一个关系名，即表明
- 元组：可以理解为二维表中的一行，相对于其他行独立，在数据库中也被称为记录
- 属性：可以理解为二维表中的一列，在数据库中京城被称为字段
- 域：属性的取值范围，也就是数据库中某一列值的取值限制
- 关键字（Key）：一组可以唯一标识元组的属性，数据库中常称为主键

### 优点  

① 容易理解：二维表结构是非常贴近逻辑世界的一个概念，关系模型相对网状、层次等其他模型来说更容易理解。
② 使用方便：通用的SQL语言使得操作关系型数据库非常方便。（SQL语言通用）
③ 易于维护：丰富的完整性(实体完整性、参照完整性和用户定义的完整性)大大减低了数据冗余和数据不一致的概率。（表结构易于维护）

### 瓶颈

① 高并发读写需求：网站的用户并发性非常高，往往达到每秒上万次读写请求，对于传统关系型数据库来说，硬盘I/O是一个很大的瓶颈。
② 海量数据的高效率读写：网站每天产生的数据量是巨大的，对于关系型数据库来说，在一张包含海量数据的表中查询，效率是非常低的。
③ 高扩展性和可用性：在基于web的结构当中，数据库是最难进行横向扩展的，当一个应用系统的用户量和访问量与日俱增的时候，数据库却没有办法像web server和app server那样简单的通过添加更多的硬件和服务节点来扩展性能和负载能力。对于很多需要提供24小时不间断服务的网站来说，对数据库系统进行升级和扩展是非常痛苦的事情，往往需要停机维护和数据迁移。

注：数据库事务必须具备**ACID特性**，ACID是Atomic原子性，Consistency一致性，Isolation隔离性，Durability持久性。

常见的关系型数据库

Oracle、DB2、Microsoft SQL Server、Microsoft Access、MySQL

## 非关系型数据库

- 非关系型数据库主要是基于“非关系模型”的数据库
- **非关系模型**，一般有：
  - **列模型**：存储的数据是一列一列的，关系型数据库以一行作为一个记录，列模型数据库以一列作为一个记录
  - **键值对模型**：存储的数据时一个个键值对
  - 文档类模型：以一个个文档来存储数据，类似键值对（肯定有该文档的标识）

常见的非关系型数据库有：

列模型： HBase

键值对模型：redis，MemcacheDB

文档类模型：MongoDB



### 非关系型数据库的优点

① **格式灵活**：存储数据的格式可以是key-value形式、文档形式、图片形式等等，使用灵活，应用场景广泛，而关系型数据库则只支持基础类型。
② **速度快**：NoSQL可以使用硬盘或者随机存储器作为载体，而关系型数据库只能使用硬盘。
③ 高扩展性。
④ 成本低：NoSQL数据库部署简单，基本都是开源软件。

### 缺陷

- 没有事务处理
- 数据结构相对复杂，对于复杂查询效果不好